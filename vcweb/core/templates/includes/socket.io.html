<script type="text/javascript" src="/static/js/socket.io.js"></script>
<script type="text/javascript">
    WEB_SOCKET_SWF_LOCATION="/static/flash/WebSocketMain.swf"
</script>

<script type="text/javascript">
function connect(host, port, resource) {
   if ( !host ) {
       console.log("Tried to connect to invalid host, connecting to vcweb.asu.edu instead.");
       host = "vcweb.asu.edu";
   }
   if ( !port ) {
       console.log("using default port 8888");
       port = 8888;
   }
   var s = new io.Socket(host, {"port": port,  "resource": resource});
   s.connect();
   s.on("connect", function() {
           console.log("Connecting.");
           s.send(createConnectionEvent());
   });
   s.on('disconnect', function(data) {
           console.log("received disconnect, reconnecting.");
           s.connect();
           s.send(createReconnectionEvent());
   });
   return s;
}
</script>
