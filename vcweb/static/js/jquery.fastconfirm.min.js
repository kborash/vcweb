(function(b){var a={init:function(c){var d;if(!this.length){return this}b.fastConfirm={defaults:{position:"bottom",offset:{top:0,left:0},zIndex:10000,eventToBind:false,questionText:"Are you sure?",proceedText:"Yes",cancelText:"No",targetElement:null,unique:false,fastConfirmClass:"fast_confirm",onProceed:function(e){e.fastConfirm("close");return true},onCancel:function(e){e.fastConfirm("close");return false}}};d=b.extend(b.fastConfirm.defaults,c||{});return this.each(function(){var h=this,p=b(this),r=b('<button class="'+d.fastConfirmClass+'_proceed">'+d.proceedText+"</button>"),m=b('<button class="'+d.fastConfirmClass+'_cancel">'+d.cancelText+"</button>"),j=b('<div class="'+d.fastConfirmClass+'"><div class="'+d.fastConfirmClass+'_arrow_border"></div><div class="'+d.fastConfirmClass+'_arrow"></div>'+d.questionText+"<br/></div>"),q=b("div."+d.fastConfirmClass+"_arrow",j),n=b("div."+d.fastConfirmClass+"_arrow_border",j),g,o,f=d.targetElement?b(d.targetElement,p):p,k=f.offset(),l,e,i=function(){if(!p.data("fast_confirm.box")){p.data("fast_confirm.params.fastConfirmClass",d.fastConfirmClass);if(d.unique){b("."+d.fastConfirmClass+"_trigger").fastConfirm("close")}r.bind("click.fast_confirm",function(){p.data("fast_confirm.box",j).addClass(d.fastConfirmClass+"_trigger");d.onProceed(p);if(d.eventToBind){h[d.eventToBind]()}});m.bind("click.fast_confirm",function(){p.data("fast_confirm.box",j).addClass(d.fastConfirmClass+"_trigger");d.onCancel(p)});j.attr("tabIndex",-1).bind("keydown.fast_confirm",function(s){if(s.keyCode&&s.keyCode===27){p.fastConfirm("close")}});j.append(r).append(m);b("body").append(j);switch(d.position){case"top":g=d.fastConfirmClass+"_bottom";o=d.fastConfirmClass+"_bottom";q.addClass(g).css("left",j.outerWidth()/2-q.outerWidth()/2);n.addClass(o).css("left",j.outerWidth()/2-n.outerWidth()/2);l=k.top-j.outerHeight()-n.outerHeight()+d.offset.top;e=k.left-j.outerWidth()/2+f.outerWidth()/2+d.offset.left;break;case"right":g=d.fastConfirmClass+"_left";o=d.fastConfirmClass+"_left";q.addClass(g).css("top",j.outerHeight()/2-q.outerHeight()/2);n.addClass(o).css("top",j.outerHeight()/2-n.outerHeight()/2);l=k.top+f.outerHeight()/2-j.outerHeight()/2+d.offset.top;e=k.left+f.outerWidth()+n.outerWidth()+d.offset.left;break;case"bottom":g=d.fastConfirmClass+"_top";o=d.fastConfirmClass+"_top";q.addClass(g).css("left",j.outerWidth()/2-q.outerWidth()/2);n.addClass(o).css("left",j.outerWidth()/2-n.outerWidth()/2);l=k.top+f.outerHeight()+n.outerHeight()+d.offset.top;e=k.left-j.outerWidth()/2+f.outerWidth()/2+d.offset.left;break;case"left":g=d.fastConfirmClass+"_right";o=d.fastConfirmClass+"_right";q.addClass(g).css("top",j.outerHeight()/2-q.outerHeight()/2);n.addClass(o).css("top",j.outerHeight()/2-n.outerHeight()/2);l=k.top+f.outerHeight()/2-j.outerHeight()/2+d.offset.top;e=k.left-j.outerWidth()-n.outerWidth()+d.offset.left;break}j.css({top:l,left:e,zIndex:d.zIndex}).focus();p.data("fast_confirm.box",j).addClass(d.fastConfirmClass+"_trigger")}};if(d.eventToBind){p.bind(d.eventToBind+".fast_confirm",function(){i();return false})}else{i()}})},close:function(){return this.each(function(){var c=b(this);c.data("fast_confirm.box").remove();c.removeData("fast_confirm.box").removeClass(c.data("fast_confirm.params.fastConfirmClass")+"_trigger")})}};b.fn.fastConfirm=function(c){if(!this.length){return this}if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist on jQuery.fastConfirm")}}}})(jQuery);